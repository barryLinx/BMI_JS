{"version":3,"sources":["webpack://bmi_js/webpack/bootstrap","webpack://bmi_js/webpack/runtime/global","webpack://bmi_js/webpack/runtime/publicPath","webpack://bmi_js/./src/image/BMICLogo.png","webpack://bmi_js/./src/image/BMICLogo_footer.png","webpack://bmi_js/./src/main.js"],"names":["__webpack_require__","g","globalThis","this","Function","e","window","scriptUrl","importScripts","location","document","currentScript","src","scripts","getElementsByTagName","length","Error","replace","p","circle","querySelector","circleText","circle_bmitag","record_container","circumference","r","baseVal","value","Math","PI","style","strokeDasharray","strokeDashoffset","bmiResult","time","Date","getCssrootColorVarable","colorName","getComputedStyle","documentElement","getPropertyValue","URL","href","hei","wei","getLocalStorage","JSON","parse","localStorage","getItem","UIdisplay","params","page","list","undefined","console","log","pag","pag_total","c","push","forEach","l","Array","from","paginationLC","results","className","head","bmi","w","h","innerHTML","pag_len","pag_wrap","i","getElementById","addEventListener","target","currentTarget","UIpagination","bmire","pow","rules_d","test","percent","offset","result_text","color","result","colortext","bmiCondition","stroke","toFixed","circleStyle","fill","parms","bmi_log","newbmilog","unshift","removeItem","setItem","stringify","b","setLocalStorage","getDate","getMonth","getUTCFullYear","setProgress","alert"],"mappings":"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","file":"js/app.6e602295.js","sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl + \"../\";","export default __webpack_public_path__ + \"image/BMICLogo.png\";","export default __webpack_public_path__ + \"image/BMICLogo_footer.png\";","//https://css-tricks.com/building-progress-ring-quickly/\r\n//https://codepen.io/JMChristensen/pen/Ablch\r\nimport './css/reset.css';\r\nimport './css/style.css';\r\n\r\nimport './image/BMICLogo.png';\r\nimport './image/BMICLogo_footer.png';\r\n\r\n\r\n\r\nconst circle = document.querySelector('.progress-ring__circle');\r\nconst circleText = document.querySelector('.circle-center-text');\r\nconst circle_ircle = document.querySelector('.circle-ircle');\r\nconst circle_bmitag = document.querySelector('.circle-bmitag');\r\nconst record_container = document.querySelector('.record-container');\r\n\r\nconst radius = circle.r.baseVal.value;\r\nconst circumference = radius * 2 * Math.PI;\r\n//circumference(圓周長) = radius(半徑) * 2 * PI\r\n\r\n// step. 1 這邊要先了解 下2行註解 不部會有動畫\r\ncircle.style.strokeDasharray = `${circumference} ${circumference}`;\r\ncircle.style.strokeDashoffset = circumference;\r\nconst bmiResult = document.querySelector('.bmi-result');\r\n\r\nconst time = new Date();\r\nconst url = new URL(window.location.href);\r\nconst pag_count = 8;\r\n\r\n\r\n//Step 3: Progress to offset\r\n\r\nfunction setProgress(percent) {\r\n\r\n  //const offset = circumference - percent / 100 * circumference;\r\n  const offset = ((100 - percent) / 100) * circumference;\r\n  //let colortext;\r\n\r\n  circle.style.strokeDashoffset = offset;\r\n  let { result, colortext, className } = bmiCondition(percent);\r\n  //colortext = getCssrootColorVarable('--light');\r\n  circleStyle(colortext, percent);\r\n  bmiResultStyle(result, colortext);\r\n\r\n  setLocalStorage({\r\n    head: result,\r\n    bmi: percent.toFixed(2),\r\n    h: hei.value,\r\n    w: wei.value,\r\n    className: className,\r\n    time: `${time.getDate()}-${time.getMonth() + 1}-${time.getUTCFullYear()}`\r\n  })\r\n  UIdisplay();\r\n  // if (percent < 18.5) {\r\n  //   colortext = getCssrootColorVarable('--light');\r\n  //   circleStyle(colortext, percent);\r\n  //   bmiResultStyle(\"過輕\",colortext);\r\n  //   // bmiResult.innerHTML = \"過輕\";\r\n  //   // bmiResult.style.color = colortext;\r\n  //   // circle_bmitag.style.fill = colortext;\r\n\r\n  // }\r\n}\r\n\r\n/**\r\n * 拿取 style.css root varable\r\n * @param {*} colorName \r\n * @returns \r\n */\r\nfunction getCssrootColorVarable(colorName) {\r\n  return window.getComputedStyle(document.documentElement).getPropertyValue(colorName);\r\n}\r\n\r\n/**\r\n * 改變圓形的樣式\r\n * @param {*} color \r\n * @param {*} percent \r\n */\r\nfunction circleStyle(color, percent) {\r\n  circle.style.stroke = color;\r\n  circleText.innerHTML = percent.toFixed(2);\r\n  circleText.style.stroke = color;\r\n}\r\n\r\n/**\r\n * bmi結果樣式\r\n * @param {*} result_text \r\n * @param {*} color \r\n */\r\nfunction bmiResultStyle(result_text, color) {\r\n  bmiResult.innerHTML = result_text;\r\n  bmiResult.style.color = color;\r\n  circle_bmitag.style.fill = color;\r\n}\r\n\r\nfunction bmi() {\r\n  let h = hei.value / 100;\r\n  return wei.value / Math.pow(h, 2);\r\n}\r\n\r\nfunction bmiCondition(percent) {\r\n  let color;\r\n  if (percent < 18.5) {\r\n    color = getCssrootColorVarable('--light');\r\n    return { result: \"過輕\", colortext: color, className: 'record-light' };\r\n  }\r\n\r\n  if (percent >= 18.5 && percent < 24) {\r\n    color = getCssrootColorVarable('--stand');\r\n    return { result: \"標準\", colortext: color, className: 'record-stand' };\r\n  }\r\n\r\n  if (percent >= 24 && percent < 27) {\r\n    color = getCssrootColorVarable('--litleheavy');\r\n    return { result: \"過重\", colortext: color, className: 'record-litleheavy' };\r\n  }\r\n\r\n  if (percent >= 27 && percent < 30) {\r\n    color = getCssrootColorVarable('--lightheavy');\r\n    return { result: \"輕度肥胖\", colortext: color, className: 'record-lightheavy' };\r\n  }\r\n  if (percent >= 30 && percent < 35) {\r\n    color = getCssrootColorVarable('--midheavy');\r\n    return { result: \"中度肥胖\", colortext: color, className: 'record-midheavy' };\r\n\r\n  }\r\n  if (percent >= 35) {\r\n    color = getCssrootColorVarable('--tooheavy');\r\n    return { result: \"重度肥胖\", colortext: color, className: 'record-tooheavy' };\r\n  }\r\n}\r\n\r\nconst hei = document.querySelector('.height');\r\nconst wei = document.querySelector('.weigth');\r\n\r\n\r\n// const calcBtn = document.querySelector('.calcBtn')\r\n//setProgress(input.value);\r\n\r\ncircleText.addEventListener('click', function (e) {\r\n  // if (input.value < 101 && input.value > -1) {\r\n  //   setProgress(input.value);   \r\n  // }\r\n  let bmire = bmi();\r\n  //用正規化避免輸入非數字 長度 < 2\r\n  const rules_d = /\\d{2,}/;\r\n  //const rules_zero = /^[1]/;\r\n\r\n  // if (hei.value <= 0  || wei.value <= 0) {\r\n  //   alert(\"請輸入:身高、體重\")\r\n  // }\r\n  if (!rules_d.test(hei.value) && !rules_d.test(wei.value)) {\r\n    alert(\"請輸入2位數以上的數字\");\r\n    return;\r\n  }\r\n\r\n\r\n  setProgress(bmire);\r\n\r\n});\r\n\r\n\r\n\r\nfunction setLocalStorage(parms) {\r\n\r\n  if (localStorage.bmi_log !== undefined) {\r\n    let newbmilog;\r\n    newbmilog = JSON.parse(window.localStorage.getItem(\"bmi_log\"));\r\n    newbmilog.unshift(parms);\r\n    window.localStorage.removeItem(\"bmi_log\");\r\n    window.localStorage.setItem(\"bmi_log\", JSON.stringify(newbmilog));\r\n  } else {\r\n    //let b = [].push(parms);//會出事\r\n    let b = [];\r\n    b.push(parms)\r\n\r\n    //console.log(JSON.stringify(b.push(parms)));\r\n    window.localStorage.setItem(\"bmi_log\", JSON.stringify(b));\r\n  }\r\n}\r\n\r\nfunction getLocalStorage() {\r\n  return JSON.parse(window.localStorage.getItem(\"bmi_log\"));\r\n}\r\n\r\nfunction paginationLC(list) {\r\n  //console.log(num);\r\n  //let list = getLocalStorage() == undefined ? [] : getLocalStorage();\r\n  let pag_total = []; //分頁共幾頁\r\n  let c = []; // 暫存\r\n  \r\n  \r\n  if (list.length == 1) {\r\n    pag_total.push(list) // 無法直接 return p.return (list)\r\n    return pag_total;\r\n  }\r\n\r\n  list.forEach(l => {\r\n    c.push(l)\r\n    if (c.length % pag_count == 0) {\r\n      //p.push([...c]);//ES6  ref value\r\n      pag_total.push(Array.from(c)); //不影響原來的  array\r\n      c.length = 0;\r\n    }\r\n\r\n  });\r\n\r\n  if (c.length % pag_count !== 0) {\r\n    pag_total.push(Array.from(c));\r\n  }\r\n  //console.log(\"pag_total\", pag_total);\r\n\r\n  return pag_total;\r\n}\r\n\r\nfunction UIdisplay(params) {\r\n let page = params || 1;\r\n  //方法1\r\n  //---------------------------------------------------------\r\n  //const urlParams = new URLSearchParams(window.location.search);\r\n  //const clickPage = urlParams.get('p');\r\n  // console.log(\"urlParams\",urlParams);\r\n  // console.log(\"clickPage\",clickPage);\r\n  //let p = (clickPage !== null) ? clickPage:num;\r\n  //---------------------------------------------------------\r\n    //方法2\r\n  //---------------------------------------------------------\r\n\r\n  //---------------------------------------------------------  \r\n  let list = getLocalStorage() == undefined ? [] : getLocalStorage();\r\n  console.log(\"list\",list);\r\n  let pag = paginationLC(list);\r\n  let results = \"\";\r\n\r\n  if (list.length == 0) {\r\n    return;\r\n  }\r\n\r\n  console.log(pag[page-1]);\r\n\r\n  pag[page-1].forEach(l => {\r\n    results += `\r\n<li class=\"record ${l.className}\">\r\n  <span class=\"record-title\">${l.head}</span>\r\n  <span class=\"record-content\"><small>BMI</small>${l.bmi}</span>\r\n  <span class=\"record-content\"><small>weight</small>${l.w}kg</span>\r\n  <span class=\"record-content\"><small>height</small>${l.h}cm</span>\r\n  <span class=\"record-time\">${l.time}</span>\r\n</li>\r\n    `\r\n  });\r\n\r\n  record_container.innerHTML = results;\r\n  UIpagination(pag.length);\r\n}\r\n\r\n\r\n\r\n\r\nfunction UIpagination(pag_len) {\r\n  const pag_wrap = document.querySelector('.pag-wrap')\r\n  let results = \"\";\r\n  if (pag_len <= 1) {\r\n    return;\r\n  }\r\n  for (let i = 0; i < pag_len; i++) {\r\n    results += `\r\n    <li>\r\n      <button class=\"pag-click\" data-id=${i + 1} >${i + 1}</button>\r\n    </li>\r\n    `\r\n  }\r\n  //方法1\r\n  //---------------------------------------------------------\r\n  //<li>\r\n  //<a href=\"http://${url.host}${url.pathname}?p=${i+1}\" class=\"pag-click\" data-id=${i + 1} >${i + 1}</a>\r\n  //</li>\r\n  //---------------------------------------------------------\r\n  pag_wrap.innerHTML = results;\r\n\r\n  //必須等 pag_wrap.innerHTML = results; 才能執行\r\n  //const pag_click = [...document.querySelectorAll('.pag-click')];\r\n  //console.log(pag_click);\r\n  \r\n  const paginationEle =document.getElementById('pagination');\r\n  paginationEle.addEventListener(\"click\",(e)=>{\r\n    //const {id} = e.target.dataset;\r\n    console.log(e.target)\r\n    console.log(\"#pagination\",e.target.currentTarget)\r\n  })\r\n  // pag_click.forEach(btn => {\r\n  //   btn.addEventListener(\"click\", e => {\r\n  //     //paginationLC(e.target.innerText);\r\n  //     e.preventDefault();\r\n  //     UIdisplay(e.target.innerText);\r\n  //    // console.log(e.target.innerText);\r\n  //     //console.log(1)      \r\n  //   })\r\n  // });\r\n}\r\n\r\n/**\r\n * 監聽 每顆按鈕 點選分頁\r\n */\r\n// function pagClick(pag_click) {\r\n//   console.log(\"pag_click\",pag_click);\r\n//   //沒法讀取到 pag_click pag_click =[] 空的\r\n//   pag_click.forEach(btn => {\r\n//     btn.addEventListener(\"click\", e => {\r\n//       //paginationLC(e.target.innerText);\r\n//       //e.preventDefault();\r\n//       UIdisplay(e.target.innerHtml);\r\n//       console.log(e.target.innerHtml);\r\n//     })\r\n//   });\r\n//   //console.log(pag_click);\r\n// }\r\n\r\n/** init 初始化\r\n * \r\n *  */ \r\ndocument.addEventListener(\"DOMContentLoaded\", (e) => {  \r\n  UIdisplay(1);\r\n  //pagClick();\r\n})\r\n\r\n\r\n/** init 初始化\r\n * \r\n *  */ \r\n// (function () {\r\n//   UIdisplay(1);\r\n\r\n// })();\r\n\r\n\r\n\r\n"],"sourceRoot":""}